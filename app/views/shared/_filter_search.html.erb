<script>
  var filterInput = document.getElementById('filter-input');
  filterInput.addEventListener('keyup', filterResults);

  function filterResults() {
    var filterValue = filterInput.value.toUpperCase();
    var rows = document.querySelectorAll('.result-row');

    for(var i = 0; i < rows.length; i++) {
      var text = rows[i].querySelectorAll('.filter-by')[0].innerHTML.toUpperCase();
      rows[i].style.display = text.indexOf(filterValue) > -1 ? '' : 'none';
    }

    displayResultsMessage(rows);
  }

  function displayResultsMessage(results) {
    var noResultsMessage = document.getElementById('no-results');
    noResultsMessage.style.display = 'none';

    var noResults = Array.from(results).every(
      function(e) { return e.style.display == 'none'; }
    );

    if (noResults) {
      noResultsMessage.style.display = 'block';
    }
  }
</script>
